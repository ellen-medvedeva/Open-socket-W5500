A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE     1


MACRO ASSEMBLER A51 V8.02b
OBJECT MODULE PLACED IN Main.OBJ
ASSEMBLER INVOKED BY: D:\Keil_v5\C51\BIN\A51.EXE Main.a51 NOMOD51 SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

                       1     ;$include (c8051F120.inc)
                +1     2     ;---------------------------------------------------------------------------
                +1     3     ; Copyright (C) 2003 CYGNAL INTEGRATED PRODUCTS, INC.
                +1     4     ; All rights reserved.
                +1     5     ;
                +1     6     ;
                +1     7     ; FILE NAME: C8051F120.INC
                +1     8     ; TARGET MCUs: C8051F120, F121, F122, F123, F124, F125, F126, F127
                +1     9     ; DESCRIPTION: Register/bit definitions for the C8051F120 product family.
                +1    10     ;
                +1    11     ; REVISION 1.6
                +1    12     ;
                +1    13     ;---------------------------------------------------------------------------
                +1    14     
                +1    15     ;REGISTER DEFINITIONS
                +1    16     ;
  0080          +1    17     P0             DATA 080H    ; PORT 0 LATCH
  0081          +1    18     SP             DATA 081H    ; STACK POINTER
  0082          +1    19     DPL            DATA 082H    ; DATA POINTER LOW BYTE
  0083          +1    20     DPH            DATA 083H    ; DATA POINTER HIGH BYTE
  0084          +1    21     SFRPAGE        DATA 084H    ; SFR PAGE SELECT
  0085          +1    22     SFRNEXT        DATA 085H    ; SFR STACK NEXT PAGE
  0086          +1    23     SFRLAST        DATA 086H    ; SFR STACK LAST PAGE
  0087          +1    24     PCON           DATA 087H    ; POWER CONTROL
  0088          +1    25     FLSTAT         DATA 088H    ; FLASH STATUS
  0088          +1    26     CPT0CN         DATA 088H    ; COMPARATOR 0 CONTROL
  0088          +1    27     CPT1CN         DATA 088H    ; COMPARATOR 1 CONTROL
  0088          +1    28     TCON           DATA 088H    ; TIMER/COUNTER CONTROL
  0089          +1    29     TMOD           DATA 089H    ; TIMER/COUNTER MODE
  0089          +1    30     CPT0MD         DATA 089H    ; COMPARATOR 0 CONFIGURATION
  0089          +1    31     CPT1MD         DATA 089H    ; COMPARATOR 1 CONFIGURATION
  0089          +1    32     PLL0CN         DATA 089H    ; PLL CONTROL
  008A          +1    33     OSCICN         DATA 08AH    ; INTERNAL OSCILLATOR CONTROL
  008A          +1    34     TL0            DATA 08AH    ; TIMER/COUNTER 0 LOW BYTE
  008B          +1    35     OSCICL         DATA 08BH    ; INTERNAL OSCILLATOR CALIBRATION
  008B          +1    36     TL1            DATA 08BH    ; TIMER/COUNTER 1 LOW BYTE
  008C          +1    37     OSCXCN         DATA 08CH    ; EXTERNAL OSCILLATOR CONTROL
  008C          +1    38     TH0            DATA 08CH    ; TIMER/COUNTER 0 HIGH BYTE
  008D          +1    39     TH1            DATA 08DH    ; TIMER/COUNTER 1 HIGH BYTE
  008D          +1    40     PLL0DIV        DATA 08DH    ; PLL DIVIDER
  008E          +1    41     CKCON          DATA 08EH    ; CLOCK CONTROL
  008E          +1    42     PLL0MUL        DATA 08EH    ; PLL MULTIPLIER
  008F          +1    43     PSCTL          DATA 08FH    ; FLASH WRITE/ERASE CONTROL
  008F          +1    44     PLL0FLT        DATA 08FH    ; PLL FILTER
  0090          +1    45     P1             DATA 090H    ; PORT 1 LATCH
  0091          +1    46     SSTA0          DATA 091H    ; UART 0 STATUS
  0091          +1    47     MAC0BL         DATA 091H    ; MAC0 B REGISTER LOW BYTE
  0092          +1    48     MAC0BH         DATA 092H    ; MAC0 B REGISTER HIGH BYTE
  0093          +1    49     MAC0ACC0       DATA 093H    ; MAC0 ACCUMULATOR BYTE 0
  0094          +1    50     MAC0ACC1       DATA 094H    ; MAC0 ACCUMULATOR BYTE 1
  0095          +1    51     MAC0ACC2       DATA 095H    ; MAC0 ACCUMULATOR BYTE 2
  0096          +1    52     SFRPGCN        DATA 096H    ; SFR PAGE CONTROL
  0096          +1    53     MAC0ACC3       DATA 096H    ; MAC0 ACCUMULATOR BYTE 3
  0097          +1    54     MAC0OVR        DATA 097H    ; MAC0 ACCUMULATOR OVERFLOW BYTE
  0097          +1    55     CLKSEL         DATA 097H    ; SYSTEM CLOCK SELECT
  0098          +1    56     SCON0          DATA 098H    ; UART 0 CONTROL
  0098          +1    57     SCON1          DATA 098H    ; UART 1 CONTROL
  0099          +1    58     SBUF0          DATA 099H    ; UART 0 DATA BUFFER
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE     2

  0099          +1    59     SBUF1          DATA 099H    ; UART 1 DATA BUFFER
  009A          +1    60     SPI0CFG        DATA 09AH    ; SPI CONFIGURATION
  009A          +1    61     CCH0MA         DATA 09AH    ; CACHE MISS ACCUMULATOR
  009B          +1    62     SPI0DAT        DATA 09BH    ; SPI DATA
  009C          +1    63     P4MDOUT        DATA 09CH    ; PORT 4 OUTPUT MODE CONFIGURATION
  009D          +1    64     P5MDOUT        DATA 09DH    ; PORT 5 OUTPUT MODE CONFIGURATION
  009D          +1    65     SPI0CKR        DATA 09DH    ; SPI CLOCK RATE CONTROL
  009E          +1    66     P6MDOUT        DATA 09EH    ; PORT 6 OUTPUT MODE CONFIGURATION
  009F          +1    67     P7MDOUT        DATA 09FH    ; PORT 7 OUTPUT MODE CONFIGURATION
  00A0          +1    68     P2             DATA 0A0H    ; PORT 2 LATCH
  00A1          +1    69     EMI0TC         DATA 0A1H    ; EMIF TIMING CONTROL
  00A1          +1    70     CCH0CN         DATA 0A1H    ; CACHE CONTROL
  00A2          +1    71     EMI0CN         DATA 0A2H    ; EMIF CONTROL
  00A2          +1    72     CCH0TN         DATA 0A2H    ; CACHE TUNING
  00A3          +1    73     EMI0CF         DATA 0A3H    ; EMIF CONFIGURATION
  00A3          +1    74     CCH0LC         DATA 0A3H    ; CACHE LOCK
  00A4          +1    75     P0MDOUT        DATA 0A4H    ; PORT 0 OUTPUT MODE CONFIGURATION
  00A5          +1    76     P1MDOUT        DATA 0A5H    ; PORT 1 OUTPUT MODE CONFIGURATION
  00A6          +1    77     P2MDOUT        DATA 0A6H    ; PORT 2 OUTPUT MODE CONFIGURATION
  00A7          +1    78     P3MDOUT        DATA 0A7H    ; PORT 3 OUTPUT MODE CONFIGURATION
  00A8          +1    79     IE             DATA 0A8H    ; INTERRUPT ENABLE
  00A9          +1    80     SADDR0         DATA 0A9H    ; UART 0 SLAVE ADDRESS
  00AD          +1    81     P1MDIN         DATA 0ADH    ; PORT 1 INPUT MODE
  00B0          +1    82     P3             DATA 0B0H    ; PORT 3 LATCH
  00B1          +1    83     PSBANK         DATA 0B1H    ; FLASH BANK SELECT
  00B7          +1    84     FLACL          DATA 0B7H    ; FLASH ACCESS LIMIT
  00B7          +1    85     FLSCL          DATA 0B7H    ; FLASH SCALE
  00B8          +1    86     IP             DATA 0B8H    ; INTERRUPT PRIORITY
  00B9          +1    87     SADEN0         DATA 0B9H    ; UART 0 SLAVE ADDRESS MASK
  00BA          +1    88     AMX0CF         DATA 0BAH    ; ADC0 MULTIPLEXER CONFIGURATION
  00BA          +1    89     AMX2CF         DATA 0BAH    ; ADC2 MULTIPLEXER CONFIGURATION
  00BB          +1    90     AMX0SL         DATA 0BBH    ; ADC0 MULTIPLEXER CHANNEL SELECT
  00BB          +1    91     AMX2SL         DATA 0BBH    ; ADC2 MULTIPLEXER CHANNEL SELECT
  00BC          +1    92     ADC0CF         DATA 0BCH    ; ADC0 CONFIGURATION
  00BC          +1    93     ADC2CF         DATA 0BCH    ; ADC2 CONFIGURATION
  00BE          +1    94     ADC0L          DATA 0BEH    ; ADC0 DATA WORD LOW BYTE
  00BE          +1    95     ADC2           DATA 0BEH    ; ADC2DATA WORD
  00BF          +1    96     ADC0H          DATA 0BFH    ; ADC0 DATA WORD HIGH BYTE
  00C0          +1    97     MAC0STA        DATA 0C0H    ; MAC0 STATUS
  00C0          +1    98     SMB0CN         DATA 0C0H    ; SMBUS CONTROL
  00C1          +1    99     MAC0AL         DATA 0C1H    ; MAC0 A REGISTER LOW BYTE
  00C1          +1   100     SMB0STA        DATA 0C1H    ; SMBUS STATUS
  00C2          +1   101     MAC0AH         DATA 0C2H    ; MAC0 A REGISTER HIGH BYTE
  00C2          +1   102     SMB0DAT        DATA 0C2H    ; SMBUS DATA
  00C3          +1   103     MAC0CF         DATA 0C3H    ; MAC0 CONFIGURATION REGISTER
  00C3          +1   104     SMB0ADR        DATA 0C3H    ; SMBUS SLAVE ADDRESS
  00C4          +1   105     ADC0GTL        DATA 0C4H    ; ADC0 GREATER-THAN LOW BYTE
  00C4          +1   106     ADC2GT         DATA 0C4H    ; ADC2 GREATER-THAN
  00C5          +1   107     ADC0GTH        DATA 0C5H    ; ADC0 GREATER-THAN HIGH BYTE
  00C6          +1   108     ADC0LTL        DATA 0C6H    ; ADC0 LESS-THAN LOW BYTE
  00C6          +1   109     ADC2LT         DATA 0C6H    ; ADC2 LESS-THAN
  00C7          +1   110     ADC0LTH        DATA 0C7H    ; ADC0 LESS-THAN HIGH BYTE
  00C8          +1   111     P4             DATA 0C8H    ; PORT 4 LATCH
  00C8          +1   112     TMR2CN         DATA 0C8H    ; TIMER/COUNTER 2 CONTROL
  00C8          +1   113     TMR3CN         DATA 0C8H    ; TIMER 3 CONTROL
  00C8          +1   114     TMR4CN         DATA 0C8H    ; TIMER/COUNTER 4 CONTROL
  00C9          +1   115     TMR2CF         DATA 0C9H    ; TIMER/COUNTER 2 CONFIGURATION
  00C9          +1   116     TMR3CF         DATA 0C9H    ; TIMER 3 CONFIGURATION
  00C9          +1   117     TMR4CF         DATA 0C9H    ; TIMER/COUNTER 4 CONFIGURATION
  00CA          +1   118     RCAP2L         DATA 0CAH    ; TIMER/COUNTER 2 CAPTURE/RELOAD LOW BYTE
  00CA          +1   119     RCAP3L         DATA 0CAH    ; TIMER 3 CAPTURE/RELOAD LOW BYTE
  00CA          +1   120     RCAP4L         DATA 0CAH    ; TIMER/COUNTER 4 CAPTURE/RELOAD LOW BYTE
  00CB          +1   121     RCAP2H         DATA 0CBH    ; TIMER/COUNTER 2 CAPTURE/RELOAD HIGH BYTE
  00CB          +1   122     RCAP3H         DATA 0CBH    ; TIMER 3 CAPTURE/RELOAD HIGH BYTE
  00CB          +1   123     RCAP4H         DATA 0CBH    ; TIMER/COUNTER 4 CAPTURE/RELOAD HIGH BYTE
  00CC          +1   124     TMR2L          DATA 0CCH    ; TIMER/COUNTER 2 LOW BYTE
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE     3

  00CC          +1   125     TMR3L          DATA 0CCH    ; TIMER 3 LOW BYTE
  00CC          +1   126     TMR4L          DATA 0CCH    ; TIMER/COUNTER 4 LOW BYTE
  00CD          +1   127     TMR2H          DATA 0CDH    ; TIMER/COUNTER 2 HIGH BYTE
  00CD          +1   128     TMR3H          DATA 0CDH    ; TIMER 3 HIGH BYTE
  00CD          +1   129     TMR4H          DATA 0CDH    ; TIMER/COUNTER 4 HIGH BYTE
  00CE          +1   130     MAC0RNDL       DATA 0CEH    ; MAC0 ROUNDING REGISTER LOW BYTE
  00CF          +1   131     MAC0RNDH       DATA 0CFH    ; MAC0 ROUNDING REGISTER HIGH BYTE
  00CF          +1   132     SMB0CR         DATA 0CFH    ; SMBUS CLOCK RATE
  00D0          +1   133     PSW            DATA 0D0H    ; PROGRAM STATUS WORD
  00D1          +1   134     REF0CN         DATA 0D1H    ; VOLTAGE REFERENCE CONTROL
  00D2          +1   135     DAC0L          DATA 0D2H    ; DAC0 LOW BYTE
  00D2          +1   136     DAC1L          DATA 0D2H    ; DAC1 LOW BYTE
  00D3          +1   137     DAC0H          DATA 0D3H    ; DAC0 HIGH BYTE
  00D3          +1   138     DAC1H          DATA 0D3H    ; DAC1 HIGH BYTE
  00D4          +1   139     DAC0CN         DATA 0D4H    ; DAC0 CONTROL
  00D4          +1   140     DAC1CN         DATA 0D4H    ; DAC1 CONTROL
  00D8          +1   141     P5             DATA 0D8H    ; PORT 5 LATCH
  00D8          +1   142     PCA0CN         DATA 0D8H    ; PCA CONTROL
  00D9          +1   143     PCA0MD         DATA 0D9H    ; PCA MODE
  00DA          +1   144     PCA0CPM0       DATA 0DAH    ; PCA MODULE 0 MODE
  00DB          +1   145     PCA0CPM1       DATA 0DBH    ; PCA MODULE 1 MODE REGISTER
  00DC          +1   146     PCA0CPM2       DATA 0DCH    ; PCA MODULE 2 MODE
  00DD          +1   147     PCA0CPM3       DATA 0DDH    ; PCA MODULE 3 MODE
  00DE          +1   148     PCA0CPM4       DATA 0DEH    ; PCA MODULE 4 MODE
  00DF          +1   149     PCA0CPM5       DATA 0DFH    ; PCA MODULE 5 MODE
  00E0          +1   150     ACC            DATA 0E0H    ; ACCUMULATOR
  00E1          +1   151     XBR0           DATA 0E1H    ; PORT I/O CROSSBAR CONTROL 0
  00E1          +1   152     PCA0CPL5       DATA 0E1H    ; PCA MODULE 5 CAPTURE/COMPARE LOW BYTE
  00E2          +1   153     PCA0CPH5       DATA 0E2H    ; PCA MODULE 5 CAPTURE/COMPARE HIGH BYTE
  00E2          +1   154     XBR1           DATA 0E2H    ; PORT I/O CROSSBAR CONTROL 1
  00E3          +1   155     XBR2           DATA 0E3H    ; PORT I/O CROSSBAR CONTROL 2
  00E6          +1   156     EIE1           DATA 0E6H    ; EXTENDED INTERRUPT ENABLE 1
  00E7          +1   157     EIE2           DATA 0E7H    ; EXTENDED INTERRUPT ENABLE 2
  00E8          +1   158     ADC0CN         DATA 0E8H    ; ADC0 CONTROL
  00E8          +1   159     ADC2CN         DATA 0E8H    ; ADC2 CONTROL
  00E8          +1   160     P6             DATA 0E8H    ; PORT 6 LATCH
  00E9          +1   161     PCA0CPL2       DATA 0E9H    ; PCA MODULE 2 CAPTURE/COMPARE LOW BYTE
  00EA          +1   162     PCA0CPH2       DATA 0EAH    ; PCA MODULE 2 CAPTURE/COMPARE HIGH BYTE
  00EB          +1   163     PCA0CPL3       DATA 0EBH    ; PCA MODULE 3 CAPTURE/COMPARE LOW BYTE
  00EC          +1   164     PCA0CPH3       DATA 0ECH    ; PCA MODULE 3 CAPTURE/COMPARE HIGH BYTE
  00ED          +1   165     PCA0CPL4       DATA 0EDH    ; PCA MODULE 4 CAPTURE/COMPARE LOW BYTE
  00EE          +1   166     PCA0CPH4       DATA 0EEH    ; PCA MODULE 4 CAPTURE/COMPARE HIGH BYTE
  00EF          +1   167     RSTSRC         DATA 0EFH    ; RESET SOURCE
  00F0          +1   168     B              DATA 0F0H    ; B REGISTER
  00F6          +1   169     EIP1           DATA 0F6H    ; EXTERNAL INTERRUPT PRIORITY 1
  00F7          +1   170     EIP2           DATA 0F7H    ; EXTERNAL INTERRUPT PRIORITY 2
  00F8          +1   171     P7             DATA 0F8H    ; PORT 7 LATCH
  00F8          +1   172     SPI0CN         DATA 0F8H    ; SPI CONTROL
  00F9          +1   173     PCA0L          DATA 0F9H    ; PCA COUNTER LOW BYTE
  00FA          +1   174     PCA0H          DATA 0FAH    ; PCA COUNTER HIGH BYTE
  00FB          +1   175     PCA0CPL0       DATA 0FBH    ; PCA MODULE 0 CAPTURE/COMPARE LOW BYTE
  00FC          +1   176     PCA0CPH0       DATA 0FCH    ; PCA MODULE 0 CAPTURE/COMPARE HIGH BYTE
  00FD          +1   177     PCA0CPL1       DATA 0FDH    ; PCA MODULE 1 CAPTURE/COMPARE LOW BYTE
  00FE          +1   178     PCA0CPH1       DATA 0FEH    ; PCA MODULE 1 CAPTURE/COMPARE HIGH BYTE
  00FF          +1   179     WDTCN          DATA 0FFH    ; WATCHDOG TIMER CONTROL
                +1   180     
                +1   181     ;
                +1   182     ;------------------------------------------------------------------------------
                +1   183     ;BIT DEFINITIONS
                +1   184     ;
                +1   185     ; TCON 088H
  008F          +1   186     TF1            BIT 08FH     ; TIMER 1 OVERFLOW FLAG
  008E          +1   187     TR1            BIT 08EH     ; TIMER 1 ON/OFF CONTROL
  008D          +1   188     TF0            BIT 08DH     ; TIMER 0 OVERFLOW FLAG
  008C          +1   189     TR0            BIT 08CH     ; TIMER 0 ON/OFF CONTROL
  008B          +1   190     IE1            BIT 08BH     ; EXT. INTERRUPT 1 EDGE FLAG
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE     4

  008A          +1   191     IT1            BIT 08AH     ; EXT. INTERRUPT 1 TYPE
  0089          +1   192     IE0            BIT 089H     ; EXT. INTERRUPT 0 EDGE FLAG
  0088          +1   193     IT0            BIT 088H     ; EXT. INTERRUPT 0 TYPE
                +1   194     
                +1   195     ; CPT0CN 088H
  008F          +1   196     CP0EN          BIT 08FH     ; COMPARATOR 0 ENABLE
  008E          +1   197     CP0OUT         BIT 08EH     ; COMPARATOR 0 OUTPUT
  008D          +1   198     CP0RIF         BIT 08DH     ; COMPARATOR 0 RISING EDGE INTERRUPT
  008C          +1   199     CP0FIF         BIT 08CH     ; COMPARATOR 0 FALLING EDGE INTERRUPT
  008B          +1   200     CP0HYP1        BIT 08BH     ; COMPARATOR 0 POSITIVE HYSTERISIS 1
  008A          +1   201     CP0HYP0        BIT 08AH     ; COMPARATOR 0 POSITIVE HYSTERISIS 0
  0089          +1   202     CP0HYN1        BIT 089H     ; COMPARATOR 0 NEGATIVE HYSTERISIS 1
  0088          +1   203     CP0HYN0        BIT 088H     ; COMPARATOR 0 NEGATIVE HYSTERISIS 0
                +1   204     
                +1   205     ; CPT1CN 088H
  008F          +1   206     CP1EN          BIT 08FH     ; COMPARATOR 1 ENABLE
  008E          +1   207     CP1OUT         BIT 08EH     ; COMPARATOR 1 OUTPUT
  008D          +1   208     CP1RIF         BIT 08DH     ; COMPARATOR 1 RISING EDGE INTERRUPT
  008C          +1   209     CP1FIF         BIT 08CH     ; COMPARATOR 1 FALLING EDGE INTERRUPT
  008B          +1   210     CP1HYP1        BIT 08BH     ; COMPARATOR 1 POSITIVE HYSTERISIS 1
  008A          +1   211     CP1HYP0        BIT 08AH     ; COMPARATOR 1 POSITIVE HYSTERISIS 0
  0089          +1   212     CP1HYN1        BIT 089H     ; COMPARATOR 1 NEGATIVE HYSTERISIS 1
  0088          +1   213     CP1HYN0        BIT 088H     ; COMPARATOR 1 NEGATIVE HYSTERISIS 0
                +1   214     
                +1   215     ; FLSTAT 088H
  0088          +1   216     FLHBUSY        BIT 088H     ; FLASH BUSY
                +1   217     
                +1   218     ; SCON0 098H
  009F          +1   219     SM00           BIT 09FH     ; UART 0 MODE 0
  009E          +1   220     SM10           BIT 09EH     ; UART 0 MODE 1
  009D          +1   221     SM20           BIT 09DH     ; UART 0 MULTIPROCESSOR EN
  009C          +1   222     REN0           BIT 09CH     ; UART 0 RX ENABLE
  009B          +1   223     TB80           BIT 09BH     ; UART 0 TX BIT 8
  009A          +1   224     RB80           BIT 09AH     ; UART 0 RX BIT 8
  0099          +1   225     TI0            BIT 099H     ; UART 0 TX INTERRUPT FLAG
  0098          +1   226     RI0            BIT 098H     ; UART 0 RX INTERRUPT FLAG
                +1   227     
                +1   228     ; SCON1 098H
  009F          +1   229     S1MODE         BIT 09FH     ; UART 1 MODE
  009D          +1   230     MCE1           BIT 09DH     ; UART 1 MCE
  009C          +1   231     REN1           BIT 09CH     ; UART 1 RX ENABLE
  009B          +1   232     TB81           BIT 09BH     ; UART 1 TX BIT 8
  009A          +1   233     RB81           BIT 09AH     ; UART 1 RX BIT 8
  0099          +1   234     TI1            BIT 099H     ; UART 1 TX INTERRUPT FLAG
  0098          +1   235     RI1            BIT 098H     ; UART 1 RX INTERRUPT FLAG
                +1   236     
                +1   237     ; IE 0A8H
  00AF          +1   238     EA             BIT 0AFH     ; GLOBAL INTERRUPT ENABLE
  00AD          +1   239     ET2            BIT 0ADH     ; TIMER 2 INTERRUPT ENABLE
  00AC          +1   240     ES0            BIT 0ACH     ; UART0 INTERRUPT ENABLE
  00AB          +1   241     ET1            BIT 0ABH     ; TIMER 1 INTERRUPT ENABLE
  00AA          +1   242     EX1            BIT 0AAH     ; EXTERNAL INTERRUPT 1 ENABLE
  00A9          +1   243     ET0            BIT 0A9H     ; TIMER 0 INTERRUPT ENABLE
  00A8          +1   244     EX0            BIT 0A8H     ; EXTERNAL INTERRUPT 0 ENABLE
                +1   245     
                +1   246     ; IP 0B8H
  00BD          +1   247     PT2            BIT 0BDH     ; TIMER 2 PRIORITY
  00BC          +1   248     PS             BIT 0BCH     ; SERIAL PORT PRIORITY
  00BB          +1   249     PT1            BIT 0BBH     ; TIMER 1 PRIORITY
  00BA          +1   250     PX1            BIT 0BAH     ; EXTERNAL INTERRUPT 1 PRIORITY
  00B9          +1   251     PT0            BIT 0B9H     ; TIMER 0 PRIORITY
  00B8          +1   252     PX0            BIT 0B8H     ; EXTERNAL INTERRUPT 0 PRIORITY
                +1   253     
                +1   254     ; SMB0CN 0C0H
  00C7          +1   255     BUSY           BIT 0C7H     ; SMBUS 0 BUSY
  00C6          +1   256     ENSMB          BIT 0C6H     ; SMBUS 0 ENABLE
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE     5

  00C5          +1   257     STA            BIT 0C5H     ; SMBUS 0 START FLAG
  00C4          +1   258     STO            BIT 0C4H     ; SMBUS 0 STOP FLAG
  00C3          +1   259     SI             BIT 0C3H     ; SMBUS 0 INTERRUPT PENDING FLAG
  00C2          +1   260     AA             BIT 0C2H     ; SMBUS 0 ASSERT/ACKNOWLEDGE FLAG
  00C1          +1   261     SMBFTE         BIT 0C1H     ; SMBUS 0 FREE TIMER ENABLE
  00C0          +1   262     SMBTOE         BIT 0C0H     ; SMBUS 0 TIMEOUT ENABLE
                +1   263     
                +1   264     ; MAC0STA 0C0H
  00C3          +1   265     MAC0HO         BIT 0C3H     ; MAC0 HARD OVERFLOW
  00C2          +1   266     MAC0Z          BIT 0C2H     ; MAC0 ZERO
  00C1          +1   267     MAC0SO         BIT 0C1H     ; MAC0 SOFT OVERFLOW
  00C0          +1   268     MAC0N          BIT 0C0H     ; MAC0 NEGATIVE
                +1   269     
                +1   270     ; TMR2CN 0C8H
  00CF          +1   271     TF2            BIT 0CFH     ; TIMER 2 OVERFLOW FLAG
  00CE          +1   272     EXF2           BIT 0CEH     ; TIMER 2 EXTERNAL FLAG
  00CB          +1   273     EXEN2          BIT 0CBH     ; TIMER 2 EXTERNAL ENABLE FLAG
  00CA          +1   274     TR2            BIT 0CAH     ; TIMER 2 ON/OFF CONTROL
  00C9          +1   275     CT2            BIT 0C9H     ; TIMER 2 COUNTER SELECT
  00C8          +1   276     CPRL2          BIT 0C8H     ; TIMER 2 CAPTURE SELECT
                +1   277     
                +1   278     ; TMR3CN 0C8H
  00CF          +1   279     TF3            BIT 0CFH     ; TIMER 3 OVERFLOW FLAG
  00CE          +1   280     EXF3           BIT 0CEH     ; TIMER 3 EXTERNAL FLAG
  00CB          +1   281     EXEN3          BIT 0CBH     ; TIMER 3 EXTERNAL ENABLE FLAG
  00CA          +1   282     TR3            BIT 0CAH     ; TIMER 3 ON/OFF CONTROL
  00C9          +1   283     CT3            BIT 0C9H     ; TIMER 3 COUNTER SELECT
  00C8          +1   284     CPRL3          BIT 0C8H     ; TIMER 3 CAPTURE SELECT
                +1   285     
                +1   286     ; TMR4CN 0C8H
  00CF          +1   287     TF4            BIT 0CFH     ; TIMER 4 OVERFLOW FLAG
  00CE          +1   288     EXF4           BIT 0CEH     ; TIMER 4 EXTERNAL FLAG
  00CB          +1   289     EXEN4          BIT 0CBH     ; TIMER 4 EXTERNAL ENABLE FLAG
  00CA          +1   290     TR4            BIT 0CAH     ; TIMER 4 ON/OFF CONTROL
  00C9          +1   291     CT4            BIT 0C9H     ; TIMER 4 COUNTER SELECT
  00C8          +1   292     CPRL4          BIT 0C8H     ; TIMER 4 CAPTURE SELECT
                +1   293     
                +1   294     ; PSW 0D0H
  00D7          +1   295     CY             BIT 0D7H     ; CARRY FLAG
  00D6          +1   296     AC             BIT 0D6H     ; AUXILIARY CARRY FLAG
  00D5          +1   297     F0             BIT 0D5H     ; USER FLAG 0
  00D4          +1   298     RS1            BIT 0D4H     ; REGISTER BANK SELECT 1
  00D3          +1   299     RS0            BIT 0D3H     ; REGISTER BANK SELECT 0
  00D2          +1   300     OV             BIT 0D2H     ; OVERFLOW FLAG
  00D1          +1   301     F1             BIT 0D1H     ; USER FLAG 1
  00D0          +1   302     P              BIT 0D0H     ; ACCUMULATOR PARITY FLAG
                +1   303     
                +1   304     ; PCA0CN 0D8H
  00DF          +1   305     CF             BIT 0DFH     ; PCA 0 COUNTER OVERFLOW FLAG
  00DE          +1   306     CR             BIT 0DEH     ; PCA 0 COUNTER RUN CONTROL BIT
  00DD          +1   307     CCF5           BIT 0DDH     ; PCA 0 MODULE 5 INTERRUPT FLAG
  00DC          +1   308     CCF4           BIT 0DCH     ; PCA 0 MODULE 4 INTERRUPT FLAG
  00DB          +1   309     CCF3           BIT 0DBH     ; PCA 0 MODULE 3 INTERRUPT FLAG
  00DA          +1   310     CCF2           BIT 0DAH     ; PCA 0 MODULE 2 INTERRUPT FLAG
  00D9          +1   311     CCF1           BIT 0D9H     ; PCA 0 MODULE 1 INTERRUPT FLAG
  00D8          +1   312     CCF0           BIT 0D8H     ; PCA 0 MODULE 0 INTERRUPT FLAG
                +1   313     
                +1   314     ; ADC0CN 0E8H
  00EF          +1   315     AD0EN          BIT 0EFH     ; ADC 0 ENABLE
  00EE          +1   316     AD0TM          BIT 0EEH     ; ADC 0 TRACK MODE
  00ED          +1   317     AD0INT         BIT 0EDH     ; ADC 0 EOC INTERRUPT FLAG
  00EC          +1   318     AD0BUSY        BIT 0ECH     ; ADC 0 BUSY FLAG
  00EB          +1   319     AD0CM1         BIT 0EBH     ; ADC 0 CONVERT START MODE BIT 1
  00EA          +1   320     AD0CM0         BIT 0EAH     ; ADC 0 CONVERT START MODE BIT 0
  00E9          +1   321     AD0WINT        BIT 0E9H     ; ADC 0 WINDOW INTERRUPT FLAG
  00E8          +1   322     AD0LJST        BIT 0E8H     ; ADC 0 LEFT JUSTIFY DATA BIT
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE     6

                +1   323     
                +1   324     ; ADC2CN 0E8H
  00EF          +1   325     AD2EN          BIT 0EFH     ; ADC 2 ENABLE
  00EE          +1   326     AD2TM          BIT 0EEH     ; ADC 2 TRACK MODE
  00ED          +1   327     AD2INT         BIT 0EDH     ; ADC 2 EOC INTERRUPT FLAG
  00EC          +1   328     AD2BUSY        BIT 0ECH     ; ADC 2 BUSY FLAG
  00EB          +1   329     AD2CM2         BIT 0EBH     ; ADC 2 CONVERT START MODE BIT 2
  00EA          +1   330     AD2CM1         BIT 0EAH     ; ADC 2 CONVERT START MODE BIT 1
  00E9          +1   331     AD2CM0         BIT 0E9H     ; ADC 2 CONVERT START MODE BIT 0
  00E8          +1   332     AD2WINT        BIT 0E8H     ; ADC 2 WINDOW INTERRUPT FLAG
                +1   333     
                +1   334     ; SPI0CN 0F8H
  00FF          +1   335     SPIF           BIT 0FFH     ; SPI 0 INTERRUPT FLAG
  00FE          +1   336     WCOL           BIT 0FEH     ; SPI 0 WRITE COLLISION FLAG
  00FD          +1   337     MODF           BIT 0FDH     ; SPI 0 MODE FAULT FLAG
  00FC          +1   338     RXOVRN         BIT 0FCH     ; SPI 0 RX OVERRUN FLAG
  00FB          +1   339     NSSMD1         BIT 0FBH     ; SPI 0 SLAVE SELECT MODE 1
  00FA          +1   340     NSSMD0         BIT 0FAH     ; SPI 0 SLAVE SELECT MODE 0
  00F9          +1   341     TXBMT          BIT 0F9H     ; SPI 0 TX BUFFER EMPTY FLAG
  00F8          +1   342     SPIEN          BIT 0F8H     ; SPI 0 SPI ENABLE
                +1   343     
                +1   344     ;
                +1   345     ;------------------------------------------------------------------------------
                +1   346     ; SFR PAGE DEFINITIONS
                +1   347     ;
  000F          +1   348     CONFIG_PAGE                 EQU 0FH   ; SYSTEM AND PORT CONFIGURATION PAGE
  0000          +1   349     LEGACY_PAGE                 EQU 00H   ; LEGACY SFR PAGE
  0000          +1   350     TIMER01_PAGE                EQU 00H   ; TIMER 0 AND TIMER 1
  0001          +1   351     CPT0_PAGE                   EQU 01H   ; COMPARATOR 0
  0002          +1   352     CPT1_PAGE                   EQU 02H   ; COMPARATOR 1
  0000          +1   353     UART0_PAGE                  EQU 00H   ; UART 0
  0001          +1   354     UART1_PAGE                  EQU 01H   ; UART 1
  0000          +1   355     SPI0_PAGE                   EQU 00H   ; SPI 0
  0000          +1   356     EMI0_PAGE                   EQU 00H   ; EXTERNAL MEMORY INTERFACE
  0000          +1   357     ADC0_PAGE                   EQU 00H   ; ADC 0
  0002          +1   358     ADC2_PAGE                   EQU 02H   ; ADC 2
  0000          +1   359     SMB0_PAGE                   EQU 00H   ; SMBUS 0
  0000          +1   360     TMR2_PAGE                   EQU 00H   ; TIMER 2
  0001          +1   361     TMR3_PAGE                   EQU 01H   ; TIMER 3
  0002          +1   362     TMR4_PAGE                   EQU 02H   ; TIMER 4
  0000          +1   363     DAC0_PAGE                   EQU 00H   ; DAC 0
  0001          +1   364     DAC1_PAGE                   EQU 01H   ; DAC 1
  0000          +1   365     PCA0_PAGE                   EQU 00H   ; PCA 0
  000F          +1   366     PLL0_PAGE                   EQU 0FH   ; PLL 0
  0003          +1   367     MAC0_PAGE                   EQU 03H   ; MAC 0
                     368     
                     369             
----                 370     CSEG AT 0
                     371     
0000 C2AF            372             CLR EA                                  ; Запретить все прерывания
0002 75FFDE          373             MOV WDTCN,              #0xDE   ; Отключить строковый таймер
0005 75FFAD          374             MOV WDTCN,              #0xAD   ; Отключить сторожевой таймер
0008 75840F          375             MOV SFRPAGE,    #0x0F   ; Выбрать страницу "F" 
000B 759600          376             MOV SFRPGCN,    #0x00   ; Запретить автоматическое переключение страниц ("SFRPGCN" 
                             стр. "F")
000E 758A83          377             MOV OSCICN,             #0x83   ; Внутренний генератор включения, частота 24,5 MГц 
                             (OSCICN" стр. "F")
                     378     ;------------------------------------------------------------------------------------------
                             ---
                     379     
                     380     ;0. Настраиваем все пины.
0011 758400          381             MOV             SFRPAGE,        #0x00           ;Стр. "0".
                     382             
0014 759D01          383             MOV             SPI0CKR,        #1                      
0017 759A40          384             MOV             SPI0CFG,        #01000000b      ;Включаем ведущий режим.
001A 75F801          385             MOV             SPI0CN,         #00000001b      ;Включаем модуль SPI0.
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE     7

                     386             
001D 75840F          387             MOV             SFRPAGE,        #0x0F           ;Стр. "F".
0020 75A40D          388             MOV             P0MDOUT,        #00001101b      ;Тут 3 пин является NSS.
0023 7580FF          389             MOV             P0,                     #11111111b
                     390     
0026 75A601          391             MOV             P2MDOUT,        #00000001b      ;Пин RSTN, пока непонятно зачем.
0029 75A0FF          392             MOV             P2,                     #11111111b
                     393     
                     394     ;0. Подключаем пины к матрице.
002C 75E102          395             MOV             XBR0,           #00000010b
002F 75E340          396             MOV             XBR2,           #01000000b
                     397             
0032 758400          398             MOV             SFRPAGE,        #0x00                   
0035 7910            399             MOV             R1,                     #0x10
                     400     
                     401     ;00. Я так понимаю, неплохо было бы сбросить перед всеми процедурами контроллер.
0037 C2A0            402             CLR             PIN_RSTN
0039 7162            403             ACALL   Wait_long
003B D2A0            404             SETB    PIN_RSTN
                     405     
003D 7162            406             ACALL   Wait_long               ;Теперь ждем, пока напряжение появится.
                     407     
                     408     
                     409     ;1. Будем настраивать Common Register Block.
                     410     ;1.1. Настраиваем регистр MR.
003F C283            411             CLR             P0.3
0041 715D            412             ACALL   Wait_short
                     413             
0043 E4              414             CLR             A
0044 7177            415             ACALL   SPI0_W
                     416     ;Пусть нашей жертвой будет регистр MR. Он имеет смещение 0x0000.
0046 7400            417             MOV             A,              #MR
0048 7177            418             ACALL   SPI0_W
                     419     ;Дальше передаем Control Phase. В нашем случае 0x00 (согласно стр. 29), 1 (т.е. write), 00.
004A 7404            420             MOV             A,              #00000100b
004C 7177            421             ACALL   SPI0_W
                     422     ;Ну и сами данные.
004E 7480            423             MOV             A,              #10000000b
0050 7177            424             ACALL   SPI0_W
                     425             
0052 D283            426             SETB    P0.3
0054 715D            427             ACALL   Wait_short
                     428     
                     429     ;1.2. Настраиваем регистр GAR.
0056 C283            430             CLR             P0.3
0058 715D            431             ACALL   Wait_short
                     432             
005A E4              433             CLR             A
005B 7177            434             ACALL   SPI0_W
                     435     
005D 7401            436             MOV             A,              #GAR1
005F 7177            437             ACALL   SPI0_W
                     438     
0061 7404            439             MOV             A,              #00000100b
0063 7177            440             ACALL   SPI0_W
                     441     
0065 74C0            442             MOV             A,              #0xC0
0067 7177            443             ACALL   SPI0_W
                     444             
0069 74A8            445             MOV             A,              #0xA8
006B 7177            446             ACALL   SPI0_W
                     447             
006D 7414            448             MOV             A,              #0x14
006F 7177            449             ACALL   SPI0_W
                     450             
0071 7400            451             MOV             A,              #0x00
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE     8

0073 7177            452             ACALL   SPI0_W
                     453             
0075 D283            454             SETB    P0.3
0077 715D            455             ACALL   Wait_short
                     456     
                     457     
                     458     ;1.3. Настраиваем регистр SUBR.
0079 C283            459             CLR             P0.3
007B 715D            460             ACALL   Wait_short
                     461             
007D E4              462             CLR             A
007E 7177            463             ACALL   SPI0_W
                     464     
0080 7405            465             MOV             A,              #SUBR1
0082 7177            466             ACALL   SPI0_W
                     467     
0084 7404            468             MOV             A,              #00000100b
0086 7177            469             ACALL   SPI0_W
                     470     
0088 74FF            471             MOV             A,              #0xFF
008A 7177            472             ACALL   SPI0_W
                     473             
008C 74FF            474             MOV             A,              #0xFF
008E 7177            475             ACALL   SPI0_W
                     476             
0090 74FF            477             MOV             A,              #0xFF
0092 7177            478             ACALL   SPI0_W
                     479             
0094 7400            480             MOV             A,              #0x00
0096 7177            481             ACALL   SPI0_W
                     482             
0098 D283            483             SETB    P0.3
009A 715D            484             ACALL   Wait_short
                     485     
                     486     
                     487     ;1.4. Настраиваем регистр SHAR.
009C C283            488             CLR             P0.3
009E 715D            489             ACALL   Wait_short
                     490             
00A0 E4              491             CLR             A
00A1 7177            492             ACALL   SPI0_W
                     493     
00A3 7409            494             MOV             A,              #SHAR1
00A5 7177            495             ACALL   SPI0_W
                     496     
00A7 7404            497             MOV             A,              #00000100b
00A9 7177            498             ACALL   SPI0_W
                     499     
00AB 7470            500             MOV             A,              #0x70
00AD 7177            501             ACALL   SPI0_W
                     502             
00AF 74FF            503             MOV             A,              #0xFF
00B1 7177            504             ACALL   SPI0_W
                     505             
00B3 7476            506             MOV             A,              #0x76
00B5 7177            507             ACALL   SPI0_W
                     508             
00B7 741C            509             MOV             A,              #0x1C
00B9 7177            510             ACALL   SPI0_W
                     511             
00BB 74C0            512             MOV             A,              #0xC0
00BD 7177            513             ACALL   SPI0_W
                     514             
00BF 7467            515             MOV             A,              #0x67
00C1 7177            516             ACALL   SPI0_W
                     517             
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE     9

00C3 D283            518             SETB    P0.3
00C5 715D            519             ACALL   Wait_short
                     520     
                     521     
                     522     ;1.5. Настраиваем регистр SIPR.
00C7 C283            523             CLR             P0.3
00C9 715D            524             ACALL   Wait_short
                     525             
00CB E4              526             CLR             A
00CC 7177            527             ACALL   SPI0_W
                     528     
00CE 740F            529             MOV             A,              #SIPR1
00D0 7177            530             ACALL   SPI0_W
                     531     
00D2 7404            532             MOV             A,              #00000100b
00D4 7177            533             ACALL   SPI0_W
                     534     
00D6 74C0            535             MOV             A,              #0xC0
00D8 7177            536             ACALL   SPI0_W
                     537             
00DA 74A8            538             MOV             A,              #0xA8
00DC 7177            539             ACALL   SPI0_W
                     540             
00DE 7414            541             MOV             A,              #0x14
00E0 7177            542             ACALL   SPI0_W
                     543             
00E2 7401            544             MOV             A,              #0x01
00E4 7177            545             ACALL   SPI0_W
                     546             
00E6 D283            547             SETB    P0.3
00E8 715D            548             ACALL   Wait_short
                     549     
                     550     
                     551     ;1.6. Настраиваем регистр RTR.
00EA C283            552             CLR             P0.3
00EC 715D            553             ACALL   Wait_short
                     554             
00EE E4              555             CLR             A
00EF 7177            556             ACALL   SPI0_W
                     557     
00F1 7419            558             MOV             A,              #RTR1
00F3 7177            559             ACALL   SPI0_W
                     560     
00F5 7404            561             MOV             A,              #00000100b
00F7 7177            562             ACALL   SPI0_W
                     563     
00F9 7407            564             MOV             A,              #0x07
00FB 7177            565             ACALL   SPI0_W
                     566             
00FD 74D0            567             MOV             A,              #0xD0
00FF 7177            568             ACALL   SPI0_W
                     569             
0101 D283            570             SETB    P0.3
0103 715D            571             ACALL   Wait_short
                     572     
                     573     
                     574     ;1.7. Настраиваем регистр RCR.
0105 C283            575             CLR             P0.3
0107 715D            576             ACALL   Wait_short
                     577             
0109 E4              578             CLR             A
010A 7177            579             ACALL   SPI0_W
                     580     
010C 741B            581             MOV             A,              #RCR1
010E 7177            582             ACALL   SPI0_W
                     583     
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE    10

0110 7404            584             MOV             A,              #00000100b
0112 7177            585             ACALL   SPI0_W
                     586     
0114 740A            587             MOV             A,              #0x0A
0116 7177            588             ACALL   SPI0_W
                     589             
0118 D283            590             SETB    P0.3
011A 715D            591             ACALL   Wait_short
                     592     ;-------------------------------------------------------------
                     593     
                     594     
                     595     ;2. Делаем общие настройки 1 сокета и некоторые настройки других сокетов.
                     596     ;2.1. Настраиваем регистр S1_MR.
011C C283            597             CLR             P0.3
011E 715D            598             ACALL   Wait_short
                     599             
0120 E4              600             CLR             A
0121 7177            601             ACALL   SPI0_W
                     602     
0123 7400            603             MOV             A,              #S1_MR
0125 7177            604             ACALL   SPI0_W
                     605     
0127 742C            606             MOV             A,              #00101100b
0129 7177            607             ACALL   SPI0_W
                     608     
012B 7442            609             MOV             A,              #01000010b
012D 7177            610             ACALL   SPI0_W
                     611             
012F D283            612             SETB    P0.3
0131 715D            613             ACALL   Wait_short
                     614     
                     615     ;2.2. Настраиваем регистр S1_PORT.
0133 C283            616             CLR             P0.3
0135 715D            617             ACALL   Wait_short
                     618             
0137 E4              619             CLR             A
0138 7177            620             ACALL   SPI0_W
                     621     
013A 7404            622             MOV             A,              #S1_PORT
013C 7177            623             ACALL   SPI0_W
                     624     
013E 742C            625             MOV             A,              #00101100b
0140 7177            626             ACALL   SPI0_W
                     627     
0142 7408            628             MOV             A,              #0x08
0144 7177            629             ACALL   SPI0_W
                     630             
0146 7434            631             MOV             A,              #0x34
0148 7177            632             ACALL   SPI0_W
                     633             
014A D283            634             SETB    P0.3
014C 715D            635             ACALL   Wait_short
                     636     
                     637     ;2.3. Настраиваем регистр S1_TTL.
014E C283            638             CLR             P0.3
0150 715D            639             ACALL   Wait_short
                     640             
0152 E4              641             CLR             A
0153 7177            642             ACALL   SPI0_W
                     643     
0155 7416            644             MOV             A,              #S1_TTL
0157 7177            645             ACALL   SPI0_W
                     646     
0159 742C            647             MOV             A,              #00101100b
015B 7177            648             ACALL   SPI0_W
                     649     
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE    11

015D 7401            650             MOV             A,              #0x01
015F 7177            651             ACALL   SPI0_W
                     652             
0161 D283            653             SETB    P0.3
0163 715D            654             ACALL   Wait_short
                     655             
                     656     ;2.4. Настраиваем регистр S1_RXBUF_SIZE.
0165 C283            657             CLR             P0.3
0167 715D            658             ACALL   Wait_short
                     659             
0169 E4              660             CLR             A
016A 7177            661             ACALL   SPI0_W
                     662     
016C 741E            663             MOV             A,              #S1_RXBUF_SIZE
016E 7177            664             ACALL   SPI0_W
                     665     
0170 742C            666             MOV             A,              #00101100b
0172 7177            667             ACALL   SPI0_W
                     668     
0174 7404            669             MOV             A,              #0x04
0176 7177            670             ACALL   SPI0_W
                     671             
0178 D283            672             SETB    P0.3
017A 715D            673             ACALL   Wait_short
                     674             
                     675     ;2.5. Настраиваем регистр S1_TXBUF_SIZE.
017C C283            676             CLR             P0.3
017E 715D            677             ACALL   Wait_short
                     678             
0180 E4              679             CLR             A
0181 7177            680             ACALL   SPI0_W
                     681     
0183 741F            682             MOV             A,              #S1_TXBUF_SIZE
0185 7177            683             ACALL   SPI0_W
                     684     
0187 742C            685             MOV             A,              #00101100b
0189 7177            686             ACALL   SPI0_W
                     687     
018B 7402            688             MOV             A,              #0x02
018D 7177            689             ACALL   SPI0_W
                     690                     
018F D283            691             SETB    P0.3
0191 715D            692             ACALL   Wait_short
                     693     ;----------------------------------------------------------------
                     694     
                     695     ;3. А теперь настроим размеры буферов для остальных сокетов.
                     696     ;3.1.1. Настраиваем регистр S0_RXBUF_SIZE.
0193 C283            697             CLR             P0.3
0195 715D            698             ACALL   Wait_short
                     699             
0197 E4              700             CLR             A
0198 7177            701             ACALL   SPI0_W
                     702     
019A 741E            703             MOV             A,              #S1_RXBUF_SIZE
019C 7177            704             ACALL   SPI0_W
                     705     
019E 740C            706             MOV             A,              #00001100b
01A0 7177            707             ACALL   SPI0_W
                     708     
01A2 7400            709             MOV             A,              #0x00
01A4 7177            710             ACALL   SPI0_W
                     711             
01A6 D283            712             SETB    P0.3
01A8 715D            713             ACALL   Wait_short
                     714             
                     715     ;3.1.2. Настраиваем регистр S0_TXBUF_SIZE.
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE    12

01AA C283            716             CLR             P0.3
01AC 715D            717             ACALL   Wait_short
                     718             
01AE E4              719             CLR             A
01AF 7177            720             ACALL   SPI0_W
                     721     
01B1 741F            722             MOV             A,              #S1_TXBUF_SIZE
01B3 7177            723             ACALL   SPI0_W
                     724     
01B5 740C            725             MOV             A,              #00001100b
01B7 7177            726             ACALL   SPI0_W
                     727     
01B9 7400            728             MOV             A,              #0x00
01BB 7177            729             ACALL   SPI0_W
                     730                     
01BD D283            731             SETB    P0.3
01BF 715D            732             ACALL   Wait_short
                     733     
                     734     ;3.2.1. Настраиваем регистр S2_RXBUF_SIZE.
01C1 C283            735             CLR             P0.3
01C3 715D            736             ACALL   Wait_short
                     737             
01C5 E4              738             CLR             A
01C6 7177            739             ACALL   SPI0_W
                     740     
01C8 741E            741             MOV             A,              #S1_RXBUF_SIZE
01CA 7177            742             ACALL   SPI0_W
                     743     
01CC 7454            744             MOV             A,              #01010100b
01CE 7177            745             ACALL   SPI0_W
                     746     
01D0 7400            747             MOV             A,              #0x00
01D2 7177            748             ACALL   SPI0_W
                     749             
01D4 D283            750             SETB    P0.3
01D6 715D            751             ACALL   Wait_short
                     752             
                     753     ;3.2.2. Настраиваем регистр S2_TXBUF_SIZE.
01D8 C283            754             CLR             P0.3
01DA 715D            755             ACALL   Wait_short
                     756             
01DC E4              757             CLR             A
01DD 7177            758             ACALL   SPI0_W
                     759     
01DF 741F            760             MOV             A,              #S1_TXBUF_SIZE
01E1 7177            761             ACALL   SPI0_W
                     762     
01E3 7454            763             MOV             A,              #01010100b
01E5 7177            764             ACALL   SPI0_W
                     765     
01E7 7400            766             MOV             A,              #0x00
01E9 7177            767             ACALL   SPI0_W
                     768                     
01EB D283            769             SETB    P0.3
01ED 715D            770             ACALL   Wait_short
                     771             
                     772     ;3.3.1. Настраиваем регистр S3_RXBUF_SIZE.
01EF C283            773             CLR             P0.3
01F1 715D            774             ACALL   Wait_short
                     775             
01F3 E4              776             CLR             A
01F4 7177            777             ACALL   SPI0_W
                     778     
01F6 741E            779             MOV             A,              #S1_RXBUF_SIZE
01F8 7177            780             ACALL   SPI0_W
                     781     
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE    13

01FA 746C            782             MOV             A,              #01101100b
01FC 7177            783             ACALL   SPI0_W
                     784     
01FE 7404            785             MOV             A,              #0x04
0200 7177            786             ACALL   SPI0_W
                     787             
0202 D283            788             SETB    P0.3
0204 715D            789             ACALL   Wait_short
                     790             
                     791     ;3.3.2. Настраиваем регистр S3_TXBUF_SIZE.
0206 C283            792             CLR             P0.3
0208 715D            793             ACALL   Wait_short
                     794             
020A E4              795             CLR             A
020B 7177            796             ACALL   SPI0_W
                     797     
020D 741F            798             MOV             A,              #S1_TXBUF_SIZE
020F 7177            799             ACALL   SPI0_W
                     800     
0211 746C            801             MOV             A,              #01101100b
0213 7177            802             ACALL   SPI0_W
                     803     
0215 7408            804             MOV             A,              #0x08
0217 7177            805             ACALL   SPI0_W
                     806                     
0219 D283            807             SETB    P0.3
021B 715D            808             ACALL   Wait_short
                     809             
                     810     ;3.4.1. Настраиваем регистр S4_RXBUF_SIZE.
021D C283            811             CLR             P0.3
021F 715D            812             ACALL   Wait_short
                     813             
0221 E4              814             CLR             A
0222 7177            815             ACALL   SPI0_W
                     816     
0224 741E            817             MOV             A,              #S1_RXBUF_SIZE
0226 7177            818             ACALL   SPI0_W
                     819     
0228 748C            820             MOV             A,              #10001100b
022A 7177            821             ACALL   SPI0_W
                     822     
022C 7402            823             MOV             A,              #0x02
022E 7177            824             ACALL   SPI0_W
                     825             
0230 D283            826             SETB    P0.3
0232 715D            827             ACALL   Wait_short
                     828             
                     829     ;3.4.2. Настраиваем регистр S4_TXBUF_SIZE.
0234 C283            830             CLR             P0.3
0236 715D            831             ACALL   Wait_short
                     832             
0238 E4              833             CLR             A
0239 7177            834             ACALL   SPI0_W
                     835     
023B 741F            836             MOV             A,              #S1_TXBUF_SIZE
023D 7177            837             ACALL   SPI0_W
                     838     
023F 748C            839             MOV             A,              #10001100b
0241 7177            840             ACALL   SPI0_W
                     841     
0243 7402            842             MOV             A,              #0x02
0245 7177            843             ACALL   SPI0_W
                     844                     
0247 D283            845             SETB    P0.3
0249 715D            846             ACALL   Wait_short
                     847             
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE    14

                     848     ;3.5.1. Настраиваем регистр S5_RXBUF_SIZE.
024B C283            849             CLR             P0.3
024D 715D            850             ACALL   Wait_short
                     851             
024F E4              852             CLR             A
0250 7177            853             ACALL   SPI0_W
                     854     
0252 741E            855             MOV             A,              #S1_RXBUF_SIZE
0254 7177            856             ACALL   SPI0_W
                     857     
0256 74AC            858             MOV             A,              #10101100b
0258 7177            859             ACALL   SPI0_W
                     860     
025A 7400            861             MOV             A,              #0x00
025C 7177            862             ACALL   SPI0_W
                     863             
025E D283            864             SETB    P0.3
0260 715D            865             ACALL   Wait_short
                     866             
                     867     ;3.5.2. Настраиваем регистр S5_TXBUF_SIZE.
0262 C283            868             CLR             P0.3
0264 715D            869             ACALL   Wait_short
                     870             
0266 E4              871             CLR             A
0267 7177            872             ACALL   SPI0_W
                     873     
0269 741F            874             MOV             A,              #S1_TXBUF_SIZE
026B 7177            875             ACALL   SPI0_W
                     876     
026D 74AC            877             MOV             A,              #10101100b
026F 7177            878             ACALL   SPI0_W
                     879     
0271 7400            880             MOV             A,              #0x00
0273 7177            881             ACALL   SPI0_W
                     882                     
0275 D283            883             SETB    P0.3
0277 715D            884             ACALL   Wait_short
                     885     
                     886     ;3.6.1. Настраиваем регистр S6_RXBUF_SIZE.
0279 C283            887             CLR             P0.3
027B 715D            888             ACALL   Wait_short
                     889             
027D E4              890             CLR             A
027E 7177            891             ACALL   SPI0_W
                     892     
0280 741E            893             MOV             A,              #S1_RXBUF_SIZE
0282 7177            894             ACALL   SPI0_W
                     895     
0284 74CC            896             MOV             A,              #11001100b
0286 7177            897             ACALL   SPI0_W
                     898     
0288 7400            899             MOV             A,              #0x00
028A 7177            900             ACALL   SPI0_W
                     901             
028C D283            902             SETB    P0.3
028E 715D            903             ACALL   Wait_short
                     904             
                     905     ;3.6.2. Настраиваем регистр S6_TXBUF_SIZE.
0290 C283            906             CLR             P0.3
0292 715D            907             ACALL   Wait_short
                     908             
0294 E4              909             CLR             A
0295 7177            910             ACALL   SPI0_W
                     911     
0297 741F            912             MOV             A,              #S1_TXBUF_SIZE
0299 7177            913             ACALL   SPI0_W
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE    15

                     914     
029B 74CC            915             MOV             A,              #11001100b
029D 7177            916             ACALL   SPI0_W
                     917     
029F 7400            918             MOV             A,              #0x00
02A1 7177            919             ACALL   SPI0_W
                     920                     
02A3 D283            921             SETB    P0.3
02A5 715D            922             ACALL   Wait_short
                     923             
                     924     ;3.7.1. Настраиваем регистр S7_RXBUF_SIZE.
02A7 C283            925             CLR             P0.3
02A9 715D            926             ACALL   Wait_short
                     927             
02AB E4              928             CLR             A
02AC 7177            929             ACALL   SPI0_W
                     930     
02AE 741E            931             MOV             A,              #S1_RXBUF_SIZE
02B0 7177            932             ACALL   SPI0_W
                     933     
02B2 74EC            934             MOV             A,              #11101100b
02B4 7177            935             ACALL   SPI0_W
                     936     
02B6 7402            937             MOV             A,              #0x02
02B8 7177            938             ACALL   SPI0_W
                     939             
02BA D283            940             SETB    P0.3
02BC 715D            941             ACALL   Wait_short
                     942             
                     943     ;3.7.2. Настраиваем регистр S7_TXBUF_SIZE.
02BE C283            944             CLR             P0.3
02C0 715D            945             ACALL   Wait_short
                     946             
02C2 E4              947             CLR             A
02C3 7177            948             ACALL   SPI0_W
                     949     
02C5 741F            950             MOV             A,              #S1_TXBUF_SIZE
02C7 7177            951             ACALL   SPI0_W
                     952     
02C9 74EC            953             MOV             A,              #11101100b
02CB 7177            954             ACALL   SPI0_W
                     955     
02CD 7404            956             MOV             A,              #0x04
02CF 7177            957             ACALL   SPI0_W
                     958                     
02D1 D283            959             SETB    P0.3
02D3 715D            960             ACALL   Wait_short
                     961     ;-----------------------------------------      
                     962                     
                     963     ;Сделаем первую небольшую проверку.
02D5 C283            964             CLR             P0.3
02D7 715D            965             ACALL   Wait_short
                     966             
02D9 E4              967             CLR             A
02DA 7177            968             ACALL   SPI0_W
                     969     
02DC 7403            970             MOV             A,              #S1_SR
02DE 7177            971             ACALL   SPI0_W
                     972     
02E0 7428            973             MOV             A,              #00101000b
02E2 7177            974             ACALL   SPI0_W
                     975             
02E4 E4              976             CLR             A
02E5 716B            977             ACALL   SPI0_R
                     978             
02E7 D283            979             SETB    P0.3
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE    16

02E9 715D            980             ACALL   Wait_short
                     981     ;Как видим, сокет пока закрыт.
                     982     
                     983     ;Откроем сокет 1.
02EB C283            984             CLR             P0.3
02ED 715D            985             ACALL   Wait_short
                     986             
02EF E4              987             CLR             A
02F0 7177            988             ACALL   SPI0_W
                     989     
02F2 7401            990             MOV             A,              #S1_CR
02F4 7177            991             ACALL   SPI0_W
                     992     
02F6 742C            993             MOV             A,              #00101100b
02F8 7177            994             ACALL   SPI0_W
                     995             
02FA 7401            996             MOV             A,              #0x01
02FC 7177            997             ACALL   SPI0_W
                     998             
02FE D283            999             SETB    P0.3
0300 715D           1000             ACALL   Wait_short
                    1001             
                    1002             
0302                1003     Loop:
0302                1004     Poll_Open:
                    1005     ;Теперь в статусе мы дожны увидеть 0x22.
0302 C283           1006             CLR             P0.3
0304 715D           1007             ACALL   Wait_short
                    1008             
0306 E4             1009             CLR             A
0307 7177           1010             ACALL   SPI0_W
                    1011     
0309 7403           1012             MOV             A,              #S1_SR
030B 7177           1013             ACALL   SPI0_W
                    1014     
030D 7428           1015             MOV             A,              #00101000b
030F 7177           1016             ACALL   SPI0_W
                    1017             
0311 E4             1018             CLR             A
0312 716B           1019             ACALL   SPI0_R
                    1020             
0314 D283           1021             SETB    P0.3
0316 715D           1022             ACALL   Wait_short      
                    1023             
0318 B422E7         1024             CJNE    A,              #0x22,          Poll_Open
                    1025             
                    1026     ;Считываем. что происходит в регистре S1_RX_WR
031B                1027     Wait_data:
031B C283           1028             CLR             P0.3
031D 715D           1029             ACALL   Wait_short
                    1030             
031F E4             1031             CLR             A
0320 7177           1032             ACALL   SPI0_W
                    1033     
0322 742A           1034             MOV             A,              #S1_RX_WR
0324 7177           1035             ACALL   SPI0_W
                    1036     
0326 7428           1037             MOV             A,              #00101000b
0328 7177           1038             ACALL   SPI0_W
                    1039             
032A E4             1040             CLR             A
032B 716B           1041             ACALL   SPI0_R
                    1042             
032D E4             1043             CLR             A
032E 716B           1044             ACALL   SPI0_R
                    1045             
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE    17

0330 D283           1046             SETB    P0.3
0332 715D           1047             ACALL   Wait_short
                    1048             
0334 60E5           1049             JZ              Wait_data
0336 B52002         1050             CJNE    A,              0x20,           New_data
0339 80E0           1051             SJMP    Wait_data
                    1052     
                    1053     
033B                1054     New_data:
033B E520           1055             MOV             A,              0x20
                    1056     ;Теперь читаем из регистра S1_RX_RD сами данные.
033D C283           1057             CLR             P0.3
033F 715D           1058             ACALL   Wait_short
                    1059             
0341 E4             1060             CLR             A
0342 7177           1061             ACALL   SPI0_W
                    1062     
0344 7428           1063             MOV             A,              #S1_RX_RD
0346 7177           1064             ACALL   SPI0_W
                    1065     
0348 7428           1066             MOV             A,              #00101000b
034A 7177           1067             ACALL   SPI0_W
                    1068             
034C E4             1069             CLR             A
034D 716B           1070             ACALL   SPI0_R
034F FB             1071             MOV             R3,     A
                    1072             
0350 E4             1073             CLR             A
0351 716B           1074             ACALL   SPI0_R
0353 F582           1075             MOV             DPL,    A
                    1076             
0355 D283           1077             SETB    P0.3
0357 715D           1078             ACALL   Wait_short
                    1079     
                    1080     
                    1081     
                    1082     
                    1083     
                    1084     
                    1085     
                    1086     
                    1087     
                    1088     
0359 80A7           1089     SJMP Loop
                    1090             
                    1091             
                    1092             
                    1093             
                    1094             
                    1095             
                    1096             
                    1097             
                    1098             
                    1099             
                    1100             
                    1101             
                    1102             
035B 80FE           1103             SJMP    $
                    1104             
                    1105             
                    1106     ;$include (My_library_for_W5500.inc)
                +1  1107     
  00A0          +1  1108     PIN_RSTN        EQU             P2.0
  0000          +1  1109     MR                      EQU             0x00
  0001          +1  1110     GAR1            EQU             0x01
  0005          +1  1111     SUBR1           EQU             0x05
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE    18

  0009          +1  1112     SHAR1           EQU             0x09
  000F          +1  1113     SIPR1           EQU             0x0F
  0019          +1  1114     RTR1            EQU             0x19
  001B          +1  1115     RCR1            EQU             0x1B
                +1  1116     
  0000          +1  1117     S1_MR           EQU             0x00
  0004          +1  1118     S1_PORT         EQU             0x04
  0016          +1  1119     S1_TTL          EQU             0x16
  001E          +1  1120     S1_RXBUF_SIZE   EQU             0x1E
  001F          +1  1121     S1_TXBUF_SIZE   EQU             0x1F
  0003          +1  1122     S1_SR           EQU             0x03
  0001          +1  1123     S1_CR           EQU             0x01
  002A          +1  1124     S1_RX_WR        EQU             0x2A
  0028          +1  1125     S1_RX_RD        EQU             0x28
                +1  1126     
                +1  1127     
                +1  1128     
                +1  1129     
035D            +1  1130     Wait_short:
035D 7864       +1  1131             MOV             R0,                     #100
035F            +1  1132             Wait_sh:
035F D8FE       +1  1133                     DJNZ    R0,                     Wait_sh
0361 22         +1  1134     RET
                +1  1135     
0362            +1  1136     Wait_long:
0362 7800       +1  1137             MOV             R0,             #0
0364 7900       +1  1138             MOV             R1,             #0
                +1  1139             
0366            +1  1140             Wait_ln:
0366 D8FE       +1  1141                     DJNZ    R0,             Wait_ln
0368 D9FC       +1  1142                     DJNZ    R1,             Wait_ln
036A 22         +1  1143     RET
                +1  1144     
                +1  1145     
036B            +1  1146     SPI0_R:
036B F59B       +1  1147             MOV             SPI0DAT,        A
                +1  1148     
                +1  1149     ;poll_SPIF_r:
036D 30FFFD     +1  1150             JNB             SPIF,           $ ;poll_SPIF_r          
0370 C2FF       +1  1151             CLR             SPIF
                +1  1152     
0372 E59B       +1  1153             MOV             A,                      SPI0DAT
0374 715D       +1  1154             ACALL   Wait_short
0376 22         +1  1155     RET
                +1  1156     
0377            +1  1157     SPI0_W:
0377 F59B       +1  1158             MOV             SPI0DAT,        A
                +1  1159     
                +1  1160     ;poll_SPIF_w:
0379 30FFFD     +1  1161             JNB             SPIF,           $ ; poll_SPIF_w 
037C C2FF       +1  1162             CLR             SPIF
037E 22         +1  1163     RET
                +1  1164     
                +1  1165     
                +1  1166     
                +1  1167     
                    1168     
                    1169     
                    1170     END
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE    19

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

AA . . . . . . . .  B ADDR   00C0H.2 A   
AC . . . . . . . .  B ADDR   00D0H.6 A   
ACC. . . . . . . .  D ADDR   00E0H   A   
AD0BUSY. . . . . .  B ADDR   00E8H.4 A   
AD0CM0 . . . . . .  B ADDR   00E8H.2 A   
AD0CM1 . . . . . .  B ADDR   00E8H.3 A   
AD0EN. . . . . . .  B ADDR   00E8H.7 A   
AD0INT . . . . . .  B ADDR   00E8H.5 A   
AD0LJST. . . . . .  B ADDR   00E8H.0 A   
AD0TM. . . . . . .  B ADDR   00E8H.6 A   
AD0WINT. . . . . .  B ADDR   00E8H.1 A   
AD2BUSY. . . . . .  B ADDR   00E8H.4 A   
AD2CM0 . . . . . .  B ADDR   00E8H.1 A   
AD2CM1 . . . . . .  B ADDR   00E8H.2 A   
AD2CM2 . . . . . .  B ADDR   00E8H.3 A   
AD2EN. . . . . . .  B ADDR   00E8H.7 A   
AD2INT . . . . . .  B ADDR   00E8H.5 A   
AD2TM. . . . . . .  B ADDR   00E8H.6 A   
AD2WINT. . . . . .  B ADDR   00E8H.0 A   
ADC0CF . . . . . .  D ADDR   00BCH   A   
ADC0CN . . . . . .  D ADDR   00E8H   A   
ADC0GTH. . . . . .  D ADDR   00C5H   A   
ADC0GTL. . . . . .  D ADDR   00C4H   A   
ADC0H. . . . . . .  D ADDR   00BFH   A   
ADC0L. . . . . . .  D ADDR   00BEH   A   
ADC0LTH. . . . . .  D ADDR   00C7H   A   
ADC0LTL. . . . . .  D ADDR   00C6H   A   
ADC0_PAGE. . . . .  N NUMB   0000H   A   
ADC2 . . . . . . .  D ADDR   00BEH   A   
ADC2CF . . . . . .  D ADDR   00BCH   A   
ADC2CN . . . . . .  D ADDR   00E8H   A   
ADC2GT . . . . . .  D ADDR   00C4H   A   
ADC2LT . . . . . .  D ADDR   00C6H   A   
ADC2_PAGE. . . . .  N NUMB   0002H   A   
AMX0CF . . . . . .  D ADDR   00BAH   A   
AMX0SL . . . . . .  D ADDR   00BBH   A   
AMX2CF . . . . . .  D ADDR   00BAH   A   
AMX2SL . . . . . .  D ADDR   00BBH   A   
B. . . . . . . . .  D ADDR   00F0H   A   
BUSY . . . . . . .  B ADDR   00C0H.7 A   
CCF0 . . . . . . .  B ADDR   00D8H.0 A   
CCF1 . . . . . . .  B ADDR   00D8H.1 A   
CCF2 . . . . . . .  B ADDR   00D8H.2 A   
CCF3 . . . . . . .  B ADDR   00D8H.3 A   
CCF4 . . . . . . .  B ADDR   00D8H.4 A   
CCF5 . . . . . . .  B ADDR   00D8H.5 A   
CCH0CN . . . . . .  D ADDR   00A1H   A   
CCH0LC . . . . . .  D ADDR   00A3H   A   
CCH0MA . . . . . .  D ADDR   009AH   A   
CCH0TN . . . . . .  D ADDR   00A2H   A   
CF . . . . . . . .  B ADDR   00D8H.7 A   
CKCON. . . . . . .  D ADDR   008EH   A   
CLKSEL . . . . . .  D ADDR   0097H   A   
CONFIG_PAGE. . . .  N NUMB   000FH   A   
CP0EN. . . . . . .  B ADDR   0088H.7 A   
CP0FIF . . . . . .  B ADDR   0088H.4 A   
CP0HYN0. . . . . .  B ADDR   0088H.0 A   
CP0HYN1. . . . . .  B ADDR   0088H.1 A   
CP0HYP0. . . . . .  B ADDR   0088H.2 A   
CP0HYP1. . . . . .  B ADDR   0088H.3 A   
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE    20

CP0OUT . . . . . .  B ADDR   0088H.6 A   
CP0RIF . . . . . .  B ADDR   0088H.5 A   
CP1EN. . . . . . .  B ADDR   0088H.7 A   
CP1FIF . . . . . .  B ADDR   0088H.4 A   
CP1HYN0. . . . . .  B ADDR   0088H.0 A   
CP1HYN1. . . . . .  B ADDR   0088H.1 A   
CP1HYP0. . . . . .  B ADDR   0088H.2 A   
CP1HYP1. . . . . .  B ADDR   0088H.3 A   
CP1OUT . . . . . .  B ADDR   0088H.6 A   
CP1RIF . . . . . .  B ADDR   0088H.5 A   
CPRL2. . . . . . .  B ADDR   00C8H.0 A   
CPRL3. . . . . . .  B ADDR   00C8H.0 A   
CPRL4. . . . . . .  B ADDR   00C8H.0 A   
CPT0CN . . . . . .  D ADDR   0088H   A   
CPT0MD . . . . . .  D ADDR   0089H   A   
CPT0_PAGE. . . . .  N NUMB   0001H   A   
CPT1CN . . . . . .  D ADDR   0088H   A   
CPT1MD . . . . . .  D ADDR   0089H   A   
CPT1_PAGE. . . . .  N NUMB   0002H   A   
CR . . . . . . . .  B ADDR   00D8H.6 A   
CT2. . . . . . . .  B ADDR   00C8H.1 A   
CT3. . . . . . . .  B ADDR   00C8H.1 A   
CT4. . . . . . . .  B ADDR   00C8H.1 A   
CY . . . . . . . .  B ADDR   00D0H.7 A   
DAC0CN . . . . . .  D ADDR   00D4H   A   
DAC0H. . . . . . .  D ADDR   00D3H   A   
DAC0L. . . . . . .  D ADDR   00D2H   A   
DAC0_PAGE. . . . .  N NUMB   0000H   A   
DAC1CN . . . . . .  D ADDR   00D4H   A   
DAC1H. . . . . . .  D ADDR   00D3H   A   
DAC1L. . . . . . .  D ADDR   00D2H   A   
DAC1_PAGE. . . . .  N NUMB   0001H   A   
DPH. . . . . . . .  D ADDR   0083H   A   
DPL. . . . . . . .  D ADDR   0082H   A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
EIE1 . . . . . . .  D ADDR   00E6H   A   
EIE2 . . . . . . .  D ADDR   00E7H   A   
EIP1 . . . . . . .  D ADDR   00F6H   A   
EIP2 . . . . . . .  D ADDR   00F7H   A   
EMI0CF . . . . . .  D ADDR   00A3H   A   
EMI0CN . . . . . .  D ADDR   00A2H   A   
EMI0TC . . . . . .  D ADDR   00A1H   A   
EMI0_PAGE. . . . .  N NUMB   0000H   A   
ENSMB. . . . . . .  B ADDR   00C0H.6 A   
ES0. . . . . . . .  B ADDR   00A8H.4 A   
ET0. . . . . . . .  B ADDR   00A8H.1 A   
ET1. . . . . . . .  B ADDR   00A8H.3 A   
ET2. . . . . . . .  B ADDR   00A8H.5 A   
EX0. . . . . . . .  B ADDR   00A8H.0 A   
EX1. . . . . . . .  B ADDR   00A8H.2 A   
EXEN2. . . . . . .  B ADDR   00C8H.3 A   
EXEN3. . . . . . .  B ADDR   00C8H.3 A   
EXEN4. . . . . . .  B ADDR   00C8H.3 A   
EXF2 . . . . . . .  B ADDR   00C8H.6 A   
EXF3 . . . . . . .  B ADDR   00C8H.6 A   
EXF4 . . . . . . .  B ADDR   00C8H.6 A   
F0 . . . . . . . .  B ADDR   00D0H.5 A   
F1 . . . . . . . .  B ADDR   00D0H.1 A   
FLACL. . . . . . .  D ADDR   00B7H   A   
FLHBUSY. . . . . .  B ADDR   0088H.0 A   
FLSCL. . . . . . .  D ADDR   00B7H   A   
FLSTAT . . . . . .  D ADDR   0088H   A   
GAR1 . . . . . . .  N NUMB   0001H   A   
IE . . . . . . . .  D ADDR   00A8H   A   
IE0. . . . . . . .  B ADDR   0088H.1 A   
IE1. . . . . . . .  B ADDR   0088H.3 A   
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE    21

IP . . . . . . . .  D ADDR   00B8H   A   
IT0. . . . . . . .  B ADDR   0088H.0 A   
IT1. . . . . . . .  B ADDR   0088H.2 A   
LEGACY_PAGE. . . .  N NUMB   0000H   A   
LOOP . . . . . . .  C ADDR   0302H   A   
MAC0ACC0 . . . . .  D ADDR   0093H   A   
MAC0ACC1 . . . . .  D ADDR   0094H   A   
MAC0ACC2 . . . . .  D ADDR   0095H   A   
MAC0ACC3 . . . . .  D ADDR   0096H   A   
MAC0AH . . . . . .  D ADDR   00C2H   A   
MAC0AL . . . . . .  D ADDR   00C1H   A   
MAC0BH . . . . . .  D ADDR   0092H   A   
MAC0BL . . . . . .  D ADDR   0091H   A   
MAC0CF . . . . . .  D ADDR   00C3H   A   
MAC0HO . . . . . .  B ADDR   00C0H.3 A   
MAC0N. . . . . . .  B ADDR   00C0H.0 A   
MAC0OVR. . . . . .  D ADDR   0097H   A   
MAC0RNDH . . . . .  D ADDR   00CFH   A   
MAC0RNDL . . . . .  D ADDR   00CEH   A   
MAC0SO . . . . . .  B ADDR   00C0H.1 A   
MAC0STA. . . . . .  D ADDR   00C0H   A   
MAC0Z. . . . . . .  B ADDR   00C0H.2 A   
MAC0_PAGE. . . . .  N NUMB   0003H   A   
MCE1 . . . . . . .  B ADDR   0098H.5 A   
MODF . . . . . . .  B ADDR   00F8H.5 A   
MR . . . . . . . .  N NUMB   0000H   A   
NEW_DATA . . . . .  C ADDR   033BH   A   
NSSMD0 . . . . . .  B ADDR   00F8H.2 A   
NSSMD1 . . . . . .  B ADDR   00F8H.3 A   
OSCICL . . . . . .  D ADDR   008BH   A   
OSCICN . . . . . .  D ADDR   008AH   A   
OSCXCN . . . . . .  D ADDR   008CH   A   
OV . . . . . . . .  B ADDR   00D0H.2 A   
P. . . . . . . . .  B ADDR   00D0H.0 A   
P0 . . . . . . . .  D ADDR   0080H   A   
P0MDOUT. . . . . .  D ADDR   00A4H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
P1MDIN . . . . . .  D ADDR   00ADH   A   
P1MDOUT. . . . . .  D ADDR   00A5H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
P2MDOUT. . . . . .  D ADDR   00A6H   A   
P3 . . . . . . . .  D ADDR   00B0H   A   
P3MDOUT. . . . . .  D ADDR   00A7H   A   
P4 . . . . . . . .  D ADDR   00C8H   A   
P4MDOUT. . . . . .  D ADDR   009CH   A   
P5 . . . . . . . .  D ADDR   00D8H   A   
P5MDOUT. . . . . .  D ADDR   009DH   A   
P6 . . . . . . . .  D ADDR   00E8H   A   
P6MDOUT. . . . . .  D ADDR   009EH   A   
P7 . . . . . . . .  D ADDR   00F8H   A   
P7MDOUT. . . . . .  D ADDR   009FH   A   
PCA0CN . . . . . .  D ADDR   00D8H   A   
PCA0CPH0 . . . . .  D ADDR   00FCH   A   
PCA0CPH1 . . . . .  D ADDR   00FEH   A   
PCA0CPH2 . . . . .  D ADDR   00EAH   A   
PCA0CPH3 . . . . .  D ADDR   00ECH   A   
PCA0CPH4 . . . . .  D ADDR   00EEH   A   
PCA0CPH5 . . . . .  D ADDR   00E2H   A   
PCA0CPL0 . . . . .  D ADDR   00FBH   A   
PCA0CPL1 . . . . .  D ADDR   00FDH   A   
PCA0CPL2 . . . . .  D ADDR   00E9H   A   
PCA0CPL3 . . . . .  D ADDR   00EBH   A   
PCA0CPL4 . . . . .  D ADDR   00EDH   A   
PCA0CPL5 . . . . .  D ADDR   00E1H   A   
PCA0CPM0 . . . . .  D ADDR   00DAH   A   
PCA0CPM1 . . . . .  D ADDR   00DBH   A   
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE    22

PCA0CPM2 . . . . .  D ADDR   00DCH   A   
PCA0CPM3 . . . . .  D ADDR   00DDH   A   
PCA0CPM4 . . . . .  D ADDR   00DEH   A   
PCA0CPM5 . . . . .  D ADDR   00DFH   A   
PCA0H. . . . . . .  D ADDR   00FAH   A   
PCA0L. . . . . . .  D ADDR   00F9H   A   
PCA0MD . . . . . .  D ADDR   00D9H   A   
PCA0_PAGE. . . . .  N NUMB   0000H   A   
PCON . . . . . . .  D ADDR   0087H   A   
PIN_RSTN . . . . .  B ADDR   00A0H.0 A   
PLL0CN . . . . . .  D ADDR   0089H   A   
PLL0DIV. . . . . .  D ADDR   008DH   A   
PLL0FLT. . . . . .  D ADDR   008FH   A   
PLL0MUL. . . . . .  D ADDR   008EH   A   
PLL0_PAGE. . . . .  N NUMB   000FH   A   
POLL_OPEN. . . . .  C ADDR   0302H   A   
PS . . . . . . . .  B ADDR   00B8H.4 A   
PSBANK . . . . . .  D ADDR   00B1H   A   
PSCTL. . . . . . .  D ADDR   008FH   A   
PSW. . . . . . . .  D ADDR   00D0H   A   
PT0. . . . . . . .  B ADDR   00B8H.1 A   
PT1. . . . . . . .  B ADDR   00B8H.3 A   
PT2. . . . . . . .  B ADDR   00B8H.5 A   
PX0. . . . . . . .  B ADDR   00B8H.0 A   
PX1. . . . . . . .  B ADDR   00B8H.2 A   
RB80 . . . . . . .  B ADDR   0098H.2 A   
RB81 . . . . . . .  B ADDR   0098H.2 A   
RCAP2H . . . . . .  D ADDR   00CBH   A   
RCAP2L . . . . . .  D ADDR   00CAH   A   
RCAP3H . . . . . .  D ADDR   00CBH   A   
RCAP3L . . . . . .  D ADDR   00CAH   A   
RCAP4H . . . . . .  D ADDR   00CBH   A   
RCAP4L . . . . . .  D ADDR   00CAH   A   
RCR1 . . . . . . .  N NUMB   001BH   A   
REF0CN . . . . . .  D ADDR   00D1H   A   
REN0 . . . . . . .  B ADDR   0098H.4 A   
REN1 . . . . . . .  B ADDR   0098H.4 A   
RI0. . . . . . . .  B ADDR   0098H.0 A   
RI1. . . . . . . .  B ADDR   0098H.0 A   
RS0. . . . . . . .  B ADDR   00D0H.3 A   
RS1. . . . . . . .  B ADDR   00D0H.4 A   
RSTSRC . . . . . .  D ADDR   00EFH   A   
RTR1 . . . . . . .  N NUMB   0019H   A   
RXOVRN . . . . . .  B ADDR   00F8H.4 A   
S1MODE . . . . . .  B ADDR   0098H.7 A   
S1_CR. . . . . . .  N NUMB   0001H   A   
S1_MR. . . . . . .  N NUMB   0000H   A   
S1_PORT. . . . . .  N NUMB   0004H   A   
S1_RXBUF_SIZE. . .  N NUMB   001EH   A   
S1_RX_RD . . . . .  N NUMB   0028H   A   
S1_RX_WR . . . . .  N NUMB   002AH   A   
S1_SR. . . . . . .  N NUMB   0003H   A   
S1_TTL . . . . . .  N NUMB   0016H   A   
S1_TXBUF_SIZE. . .  N NUMB   001FH   A   
SADDR0 . . . . . .  D ADDR   00A9H   A   
SADEN0 . . . . . .  D ADDR   00B9H   A   
SBUF0. . . . . . .  D ADDR   0099H   A   
SBUF1. . . . . . .  D ADDR   0099H   A   
SCON0. . . . . . .  D ADDR   0098H   A   
SCON1. . . . . . .  D ADDR   0098H   A   
SFRLAST. . . . . .  D ADDR   0086H   A   
SFRNEXT. . . . . .  D ADDR   0085H   A   
SFRPAGE. . . . . .  D ADDR   0084H   A   
SFRPGCN. . . . . .  D ADDR   0096H   A   
SHAR1. . . . . . .  N NUMB   0009H   A   
SI . . . . . . . .  B ADDR   00C0H.3 A   
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE    23

SIPR1. . . . . . .  N NUMB   000FH   A   
SM00 . . . . . . .  B ADDR   0098H.7 A   
SM10 . . . . . . .  B ADDR   0098H.6 A   
SM20 . . . . . . .  B ADDR   0098H.5 A   
SMB0ADR. . . . . .  D ADDR   00C3H   A   
SMB0CN . . . . . .  D ADDR   00C0H   A   
SMB0CR . . . . . .  D ADDR   00CFH   A   
SMB0DAT. . . . . .  D ADDR   00C2H   A   
SMB0STA. . . . . .  D ADDR   00C1H   A   
SMB0_PAGE. . . . .  N NUMB   0000H   A   
SMBFTE . . . . . .  B ADDR   00C0H.1 A   
SMBTOE . . . . . .  B ADDR   00C0H.0 A   
SP . . . . . . . .  D ADDR   0081H   A   
SPI0CFG. . . . . .  D ADDR   009AH   A   
SPI0CKR. . . . . .  D ADDR   009DH   A   
SPI0CN . . . . . .  D ADDR   00F8H   A   
SPI0DAT. . . . . .  D ADDR   009BH   A   
SPI0_PAGE. . . . .  N NUMB   0000H   A   
SPI0_R . . . . . .  C ADDR   036BH   A   
SPI0_W . . . . . .  C ADDR   0377H   A   
SPIEN. . . . . . .  B ADDR   00F8H.0 A   
SPIF . . . . . . .  B ADDR   00F8H.7 A   
SSTA0. . . . . . .  D ADDR   0091H   A   
STA. . . . . . . .  B ADDR   00C0H.5 A   
STO. . . . . . . .  B ADDR   00C0H.4 A   
SUBR1. . . . . . .  N NUMB   0005H   A   
TB80 . . . . . . .  B ADDR   0098H.3 A   
TB81 . . . . . . .  B ADDR   0098H.3 A   
TCON . . . . . . .  D ADDR   0088H   A   
TF0. . . . . . . .  B ADDR   0088H.5 A   
TF1. . . . . . . .  B ADDR   0088H.7 A   
TF2. . . . . . . .  B ADDR   00C8H.7 A   
TF3. . . . . . . .  B ADDR   00C8H.7 A   
TF4. . . . . . . .  B ADDR   00C8H.7 A   
TH0. . . . . . . .  D ADDR   008CH   A   
TH1. . . . . . . .  D ADDR   008DH   A   
TI0. . . . . . . .  B ADDR   0098H.1 A   
TI1. . . . . . . .  B ADDR   0098H.1 A   
TIMER01_PAGE . . .  N NUMB   0000H   A   
TL0. . . . . . . .  D ADDR   008AH   A   
TL1. . . . . . . .  D ADDR   008BH   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TMR2CF . . . . . .  D ADDR   00C9H   A   
TMR2CN . . . . . .  D ADDR   00C8H   A   
TMR2H. . . . . . .  D ADDR   00CDH   A   
TMR2L. . . . . . .  D ADDR   00CCH   A   
TMR2_PAGE. . . . .  N NUMB   0000H   A   
TMR3CF . . . . . .  D ADDR   00C9H   A   
TMR3CN . . . . . .  D ADDR   00C8H   A   
TMR3H. . . . . . .  D ADDR   00CDH   A   
TMR3L. . . . . . .  D ADDR   00CCH   A   
TMR3_PAGE. . . . .  N NUMB   0001H   A   
TMR4CF . . . . . .  D ADDR   00C9H   A   
TMR4CN . . . . . .  D ADDR   00C8H   A   
TMR4H. . . . . . .  D ADDR   00CDH   A   
TMR4L. . . . . . .  D ADDR   00CCH   A   
TMR4_PAGE. . . . .  N NUMB   0002H   A   
TR0. . . . . . . .  B ADDR   0088H.4 A   
TR1. . . . . . . .  B ADDR   0088H.6 A   
TR2. . . . . . . .  B ADDR   00C8H.2 A   
TR3. . . . . . . .  B ADDR   00C8H.2 A   
TR4. . . . . . . .  B ADDR   00C8H.2 A   
TXBMT. . . . . . .  B ADDR   00F8H.1 A   
UART0_PAGE . . . .  N NUMB   0000H   A   
UART1_PAGE . . . .  N NUMB   0001H   A   
WAIT_DATA. . . . .  C ADDR   031BH   A   
A51 MACRO ASSEMBLER  MAIN                                                                 08/22/2023 15:56:44 PAGE    24

WAIT_LN. . . . . .  C ADDR   0366H   A   
WAIT_LONG. . . . .  C ADDR   0362H   A   
WAIT_SH. . . . . .  C ADDR   035FH   A   
WAIT_SHORT . . . .  C ADDR   035DH   A   
WCOL . . . . . . .  B ADDR   00F8H.6 A   
WDTCN. . . . . . .  D ADDR   00FFH   A   
XBR0 . . . . . . .  D ADDR   00E1H   A   
XBR1 . . . . . . .  D ADDR   00E2H   A   
XBR2 . . . . . . .  D ADDR   00E3H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
